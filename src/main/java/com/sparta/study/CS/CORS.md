# CORS(Cross-Origin Resource Sharing)란 ?
* 클라이언트 애플리케이션과 다른 origin을 가진 서버 애플리케이션이 서로 통신할 수 있도록 허용하는 보안메커니즘이다.
  * 클라이언트 애플리케이션은 www.mysite.com 으로 올라가 있는 반면 서버 애플리케이션은 www.serverapi.com 으로 올라가 있다고 했을 때 클라이언트와 서버 애플리케이션은 다른 origin을 가졌다고 말한다.
* 일상에 비교 해보자 -> 친구의 물건을 쓰려면 친구가 제한하는 규약 안에서 사용 하듯 
* 다른 도메인의 자원을 쓰려면 자원의 주인이 허락한 규약을 지켜야 하는 것을 표준화 한것이 CORS이다.
* but 동일한 출처에서는 리소스를 공유 할 수있다 (SOP) - 프로토콜, 호스트, 포트 3가지가 같다면 동일한 orgin이다.

# SOP(Same-Origin Policy) - 동일 출처 정책은 왜 필요한가 ?
* 클라이언트와 서버의 origin이 달라도 통신을 무조건 허용하면 클라이언트에서 악의적으로 서버에 접근할 가능성이 너무 높기 때문이다.
  * 자세히 예를 들자면 A사이트에서 로그인 후 B사이트에서 접속을 하면 B사이트에서 로그인을 한 것처럼 토큰을 보내 올 수가 있다.

# CORS(Cross-Origin Resource Sharing)가 왜 필요할까 ?
* 아무리 보안이 중요하다지만 개발을 하다보면 기능상 어쩔 수 없이 다른 출처간의 상호작용이 필요하다.
* 실무적으로도 다른 회사의 서버 API를 이용해야 하는 상황도 존재한다.
* 따라서 이와같은 예외 상황을 두기 위해서는 CORS정책을 허용하는 리소스에 한해 다른 출처라도 받아들인다.


# CORS의 동작원리 

1. 클라이언트 HTTP 요청
* 요청 허더에 Origin 정보를 담아서 보낸다.
2. Server 응답
* 서버에서 해당 요청에 대한 응답 시 응답 헤더에 Access-Control-Allow-Origin 정보를 담아 보낸다.
3. 비교
* 요청할 때 보낸 Origin 정보와 서버에서 보낸 Access-Control-Allow-Origin 정보를 비교해 서버에서 보내준 Access-Control-Allow-Origin을 차단할지 말지 클라이언트 단에서 정한다.
유효하지 않다면 해당 응답은 버린다.

위의 과정은 아주 기본적인 방식이며, 실제로는 예비요청, 단순요청, 인증된 요청 세가지 방식으로 나뉜다.
