# 도커(Docker)가 뭐야 ?
* 한마디로 정리하자면 __데이터__ 또는 **프로그램**을 **격리**시키는 기능을 제공하는 소프트웨어이다.
* 클라이언트 컴퓨터에서도 사용하나 통상적으로 **서버**에 사용된다.
* 도커는 다향한 프로그램과 데이터를 각각 **독립된 환경**에 격리하는 기능을 제공한다. 그것도 운영체제(비슷한 것)를 통째로 말이다.
* 컴퓨터 또는 서버를 마치 코스트코에서 판매하는 조립형 창고같은 작은 방으로 분할하고 독립된 창고에 프로그램을 두는 것이다.
* 이 조립형 창고를 **컨테이너**라고 한다. 그리고 이 컨테이너를 다루는 기능을 제공하는 소프트웨어가 도커이다.
* 도커를 사용하려면 도커엔진을 설치해야 한다.
* 컨테이너를 만들기 위해서는 도커엔진이 필요하다고 했다. 그러나 컨테이너를 만들기 위해서는 엔진 외에도 빵틀과 같은 역할을 할 **이미지**가 필요하다.
* 이미지는 담고있는 소프트웨어의 종류에 따라 다양한 이미지를 사용한다.
* 아파치 컨테이너를 사용한다면 -> 아파치 이미지, MySQL을 사용한다면 -> MySQL이미지
* 컨테이너는 하나의 도커에서 용량이 허락하는한 여러개 만들 수 있다.

## 제약사항
* 종류와 상관없이 리눅스 운영체제가 필요하다.
* 윈도우 macOS에서도 도커를 구동 할 수 있지만 이 경우 내부적으로 리눅스가 사용된다.
* 또 컨테이너에서 동작시킬 프로그램도 리눅스용 프로그램이다.

![도커 이미지](https://user-images.githubusercontent.com/108817236/210067015-909a0bae-152c-4784-b3ec-b5601bb0eea1.png)

# 격리된 독립환경이 필요한 이유
* 대부분의 프로그램은 단독으로 동작하는 것이 아니라 어떤 환경이나 라이브러리 다른 프로그램일 이용해 동작한다.
* 예를들어 PHP기반의 프로그램을 실행하려면 그에 맞는 환경이 필요하고, 파이썬으로 작성된 프로그램은 다른 라이브러리를 사용하는 경우가 많다.
* 이를 생각해보면 서로 다른 프로그램에서 다른 버전의 한 소프트웨어를 요구하는 상황이 있을 수 있다.
* 예를 들어 시스템 A에서는 XX프로그램의 8.0 버전이 필요하고 시스템 B에서는 XX프로그램의 5.0버전이 요구 된다면 한쪽의 요구사항을 맞추기 위하여 다른쪽을 포기 할 수 밖에 없을 것이다.
* 이러한 상황에서 컨테이너를 사용해 프로그램을 격리한다면 한서버에서 실행 될 때 일어나는 문제를 대부분 해결 할 수 있다.
* 또한 이러한 격리공간을 활용하여 개발운영환경을 갖추거나 다른 운영환경으로 쉽게 넘어 갈 수 있다는 개발 측면에서의 장점도 가지고 있다.
* 도커를 이용하면 물리적 환경차이,서버 구성의 차이를 무시할 수 있으므로 운영서버와 개발서버의 환경차이로 인한 문제를 원천적으로 방지할 수 있다.

# 도커의 구조 
* 일반적으로 도커와 컨테이너는 서버에서 사용되며, 컴퓨터 안의 운영체제 위의 도커엔진 위에서 사용된다.
* 일반적인 서버와 프로그램 사이에 도커엔진이 껴있다고 생각하면 된다. 
* 컨테이너의 구조는 ?
  * 모든 컨테이너에는 리눅스 운영체제 비슷한 무언가가 들어있다.
    * 운영체제란 ? 
    * 소프트웨어나 프로그램의 명령을 하드웨어에 전달하는 역할.
    * ex) 귤을 먹어라 ->(운영체제) 테이블 우상단에 위차한 귤을 손에쥐고 껍질을 까서 먹어라 -> OK
    * 이와같이 명령을 번역하여 하드웨어에 전달하는 역할을 한다.
    * 본래 운영체제는 커널과 그 외의 주변부분으로 구성되어 그 주변부분이 프로그램의 연락내용을 커널에 전달하고 커널이 하드웨어를 다룬다.
  * 도커는 컨테이너가 완전히 분리돼 있으므로 밑바탕이되는 리눅스 운영체제의 주변부분이 컨테이너 속 프로그램의 명령을 전달 받을 수 없다.
  * 이 때문에 컨테이너 속에 **그 외의 주변부분**이 들어있어 명령을 전달받고 이를 커널에 전달하는 구조로 되어있다. 이 때문에 운영체제가 아닌 운영체제 비슷한 무언가 라고 지칭했다.
  * 그렇다면 왜 운영체제 전체를 넣지 않고 번거롭게 그 외의 주변 부분만 넣는걸까 ? 
  * -> 커널은 밑바탕에 있는것을 빌려쓰는 형태이기에 도커의 가장 큰 특징인 **가벼움**을 얻을 수 있다.
  * 도커는 기본적으로 리눅스 운영체제에서만 동작하기에 윈도우나 macOS용 소프트웨어는 컨테이너에 넣어도 동작하지 않는다.
  * 그러나 실제로는 윈도우나 macOS컴퓨터에서 도커를 사용할 수 있다.
    * -> VirtualBOX나VMware 같은 가상환경위에 리눅스 운영체제를 설치하고 그위에 도커를 실행하거나 
    * -> 도커를 실행하는데 필요한 리눅스 운영체제를 포함하는 패키지를 설치해 사용하는 경우이다.
    * 이렇듯 도커를 사용하려면 어떠한 형태로든 리눅스 운영체제를 갖춰야 한다.
    
